<head>
  <title>UMass 320 WebApp</title>
  <style>
    h1 {
      text-align: center;
    }
    .create {
      text-align: center;
    }
    #table-container {
      padding-top: 10px;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 50px;
      width: 95%;
    }
    table, th, td {
      border-collapse: collapse;
    }
    th, td {
      padding: 5px;
    }
    th{
      background-color: #ADADAD;
      color: black;
      text-align: center;
    }
    table tr:nth-child(even) {
      background-color: #eee;
    }
    table tr:nth-child(odd) {
      background-color: #fff;
    }
    h3#title {
      text-align: center;
    }
    #usertable thead {
      cursor: pointer;
    
    }
    #usertable thead tr th.headerSortUp span {
      background-image: url('up-arrow.png');
    }
    #usertable thead tr th.headerSortDown span {
      background-image: url('down-arrow.png');
    }
  </style>

  <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.10/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.10/js/jquery.dataTables.js"></script>

 {{!--  Tablesort didn't work so I decided to use DataTable instead --}}
  <script type="text/javascript">
    $(document).ready(function () {
        $("#usertable").DataTable({

        });
        $("#usertable2").DataTable({

        });
    });
  </script>
</head>

<body>
  <h1>Admin</h1>

{{!--   <div class="create">
    <h3>Create An Account</h3>
    <form method="post" action="http://localhost:3000/api/user/register">
      Username: <input type="text" name="username" placeholder="Username"> <br>
      Password:  <input type="password" name="passwordhash" placeholder="Password"> <br>
      Admin:
      <select name="admin">
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>
      <br>
      <button>Add Account</button>
    </form>
  </div> --}}

  <div id="table-container">
    <h3 id="title">Account List</h3>

    {{!-- THIS WILL NEED TO BE REDONE USING THE TABLE IN db/users.js --}}
    {{!-- STRAIGHT FROM DATABASE - USER ATTRIBUTES? --}}
    {{!-- properties_array["USER"] = "CREATE TABLE USER( ID INTEGER PRIMARY KEY NOT NULL, USERNAME TEXT NOT NULL, PASSWORDHASH NOT NULL, FOREIGN KEY(ID) references SAVEDSEARCHES(USERID), FOREIGN KEY(ID) references PRIVILEGES(USERID) )"; --}}

    {{!-- We'll need to do account actions somewhere else. --}}

    {{!-- WE'LL NEED TO REDO THIS FOR ALL ACCOUNTS IN THE DATABASE --}}
    <table id="usertable" class="display" cellspacing="0" width="100%">
      <thead>
        <tr>
          <th>ID</th>
          <th>Username</th>
          <th>Password Hash</th>
{{!--           <th>Saved Searches</th>
          <th>Privileges</th>
          <th>Actions</th> --}}
        </tr>
      </thead>
      <tbody>
        {{#each users}}
        <tr>
          <td>{{this.ID}}</td>
          <td>{{this.USERNAME}}</td>
          <td>{{this.PASSWORDHASH}}</td>
{{!--           <td>2</td>
          <td>2</td>
          <td>Edit Delete</td> --}}
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</body>
