<html>
<h1>Data Entry</h1>

<div class="container">

    <ul class="tabs">
        <li class="{{healthtabclass}}" data-tab="tab-1">Health Inspection</li>
        <li class="{{watertabclass}}" data-tab="tab-2">Water Well</li>
        <li class="{{septictabclass}}" data-tab="tab-3">Septic System</li>

    </ul>

    <div id="tab-1" class="tab-content current">

        <div class="form add_new_form" >
            <label>Add a New Restaurant</label>
            <iframe style="display:none" name="silent-submit"></iframe>
            <form method="post" action="/api/add" target="silent-submit">
                 <input type="text" name="type" value="restaurant" style="display:none"> <br>
                 Location: <select name="location[]">
                <option value="sunderland">Sunderland</option>
                <option value="leverett">Leverett</option>
                
                </select><br>
                 Property ID: <input type="number" name="propertyid" required> <br>
                Name: <input type="text" name="name"> <br>
                Address:  <input type="text" name="address" required> <br>
               <!-- Telephone: <input type="text" name="telephone"> <br>-->
                Owner ID:  <input type="number" name="ownerid" required> (Database requires ID) <br>
                Person in Charge: <input type="text" name="personincharge" required> <br>
                <button>Add</button><button type="button" class="add_new_btn">Cancel</button>
            </form>
            
        </div>
        <div class="form">
            <label>Restaurant Information</label>
            <form method="post" action="#">
            <!--    Name: <input type="text" name="name2"> <br>
                Address:  <input type="text" name="address2"> <br>
                Telephone: <input type="text" name="telephone2"> <br>
                Owner:  <input type="text" name="owner2"> <br>
                Person in Charge: <input type="text" name="person_in_charge2"> <br>
            -->
                Choose a Restaurant:  <select name="choose_restaurant">
               {{#each list}}

                <option value={{id}}>{{name}} - {{address}}</option>
               {{/each}}

            </select>
                <button>Choose</button>
            </form>
            <button class="add_new_btn" type="button">Add New Restaurant</button>
        </div>
        <div class="form">
            <label>Inspection</label>
            <form method="post" action="/api/add">
                <div class="form">
                <h5>Basic Information</h5>
                <input type="text" name="type" value="restaurantinspections" style="display:none"> <br>
                 Location: <select name="location[]">
                <option value="sunderland">Sunderland</option>
                <option value="leverett">Leverett</option>
                
                </select><br>
                0. Restaurant ID: <input type="number" name="RESTAURANTID"  required> <br>
                1. Inspector: <input type="text" name="inspector"  required> <br>
                2. Risk Level:  <input type="text" name="risklevel"> <br>
                3. HACCP: <input type="number" name="haccp"> <br>
                4. Time In:  <input type="number" name="timein"> <br>
                5. Time Out: <input type="number" name="timeout"> <br>
                6. Type of Operation: <select name="typeofoperation">
                <option value="1">Food Service</option>
                <option value="2">Retail</option>
                <option value="3">Residential Kitchen</option>
                <option value="4">Mobile</option>
                <option value="5">Temporary</option>
                <option value="6">Caterer</option>
                <option value="7">Bed & Breakfast</option>
                </select><br>
                7. Type of Inspection: <select name="typeofinspection">
                <option value="1">Routine</option>
                <option value="2">Re-inspection</option>
                </select><br>
                8. Previous Inspection Date:  <input type="number" name="previousinspectiondate"> <br>
                9. Reasoning: <select name="reasoning">
                <option value="1">Pre-operation</option>
                <option value="2">Suspect Illness</option>
                <option value="3">General Complaint</option>
                <option value="4">HACCP</option>
                <option value="5">Other</option>
                </select><br>
                10. Other Reasoning:  <input type="text" name="otherreasoning"> <br>
                </div>

                <div class="form">
                <h5>Violation Related to Good retail Practices</h5>
                1. Management and Personal: 
                <select name="managementandpersonnel">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                2. Food and Food Protection: 
                <select name="FoodandFoodProtection">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                3. Equipment and Utensils:
                <select name="EquipmentandUtensils">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                4. Water, Plumbing and Waste:
                <select name="WaterPlumbingandWaste">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                5. Phisical Facility:
                <select name="PhisicalFacility">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                6. Poisonous or Toxic Materials: 
                <select name="PoisonousorToxicMaterials">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                7. Special requirements: 
                <select name="Specialrequirements">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                8. Other: 
                <select name="Other0">
                <option value="Critical">Critical</option>
                <option value="Non-critical">Non-critical</option>
                </select><br>
                </div>

                <div class="form">
                <h5>Extra Violation Information</h5>
                1. Discussion with Person in Charge:
                <select name="DiscussionwithPersoninCharge">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                2. Corrective Action Required:
                <select name="CorrectiveActionRequired">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                3. Voluntary Compliance:
                <select name="VoluntaryCompliance">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                4. Re-inspection Scheduled:
                <select name="ReinspectionScheduled">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                5. Voluntary Disposal:
                <select name="VoluntaryDisposal">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                6. Employee Restriction/Exclusion:
                <select name="EmployeeRestrictionExclusion">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                7. Emergency Suspension:
                <select name="EmergencySuspension">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                8. Emergency Closure:
                <select name="EmergencyClosure">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                9. Other:
                <select name="Other1">
                <option value="1">Yes</option>
                <option value="0">No</option>
                </select><br>
                </div>

                <div class="form">
                <h5>Additional Notes</h5>
                <textarea cols="80" rows="5" name="additionalnotes"></textarea>
                </div>

                <!--<div class="form">
                    <label>Violation</label>
                    <div >
                        <input autocomplete="off" id="field1" name="field1" type="text" placeholder="Input Violation" />
                        <button id="b1" class="add-more" type="button">+</button>
                    </div>

                </div>
                -->
                <button>Submit</button><button>Delete</button>
            </form>
        </div>
    </div>

    <div id="tab-2" class="tab-content">
        <div class="form add_new_form">
            <label>Add a New Well</label>
            <form method="post" action="/api/add">
                 <input type="text" name="type" value="well" style="display:none"> <br>
                 Location: <select name="location[]">
                <option value="sunderland">Sunderland</option>
                <option value="leverett">Leverett</option>
                </select><br>
                Property ID: <input type="number" name="propertyid"> <br>
                Owner ID:  <input type="number" name="ownerid"> <br>
                <button>Add</button><button class="add_new_btn" type="button">Cancel</button>
            </form>
        </div>
        <div class="form">
            <label>Well Info</label>
            <form method="post" action="#">
                Duis aute: <input type="text" name="name"> <br>
                Duis aute:  <input type="text" name="name"> <br>
                Choose:  <select>
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
            </select><br>
                <button class="add_new_btn" type="button">Add New</button>
            </form>
        </div>
        <div class="form">
            <label>Report</label>
            <form method="post" action="#">
                <div class="form">
                <h5>General Information</h5>
                1. Client's Name: <input type="text" name="name"> <br>
                2. Collected by:  <input type="text" name="name"> <br>
                3. Project: <input type="text" name="name"> <br>
                4. Project Number: <input type="text" name="name"> <br>
                5. Date Collected: <input type="text" name="name"> <br>
                6. Sample Identification: <input type="text" name="name"> <br>
                7. Lab Number: <input type="text" name="name"> <br>
                </div>
                <div class="form">
                    <h5>Analysis</h5>
                    1. Total Coliform Bacteria: <input type="text" name="name"> <br>
                    2. Total Coliform Bacteria units: <input type="text" name="name"> <br>
                    3. Nitrate-Nitrogen: <input type="text" name="name"> <br>
                    4. Nitrate-Nitrogen units: <input type="text" name="name"> <br>
                    5. pH: <input type="text" name="name"> <br>
                    6. pH units: <input type="text" name="name"> <br>
                    7. Iron: <input type="text" name="name"> <br>
                    8. Iron units: <input type="text" name="name"> <br>
                    9. Hardness as CaCO3: <input type="text" name="name"> <br>
                    10. Hardness as CacO3 units: <input type="text" name="name"> <br>
                    11. Sulfare Sulfur: <input type="text" name="name"> <br>
                    12. Sulfare Sulfur units: <input type="text" name="name"> <br>
                    13. Chloride: <input type="text" name="name"> <br>
                    14. Chloride units: <input type="text" name="name"> <br>
                    15. Specific Conductance: <input type="text" name="name"> <br>
                    16. Specific Conductance units: <input type="text" name="name"> <br>
                    17. <input type="checkbox" name="pass" value="y">This water sample passes drinking water standards. <br>
                    18. Submitted by: <input type="text" name="name"> <br>
                </div>
                <div class="form">
                    <h5>Additional Notes</h5>
                    <textarea cols="80" rows="5" name="notes"></textarea>
                </div>
                <button>Submit</button><button>Delete</button>
            </form>
        </div>
    </div>

    <div id="tab-3" class="tab-content">
        <div class="form add_new_form">
            <label>Add a New Tank</label>
            <form method="post" action="/api/add">
                 <input type="text" name="type" value="septic" style="display:none"> <br>
                 Location: <select name="location[]">
                <option value="sunderland">Sunderland</option>
                <option value="leverett">Leverett</option>
                </select><br>
                Property ID: <input type="number" name="propertyid"> <br>
                Owner ID:  <input type="number" name="ownerid"> <br>
                <button>Add</button><button class="add_new_btn" type="button">Cancel</button>
            </form>
        </div>

        <div class="form">
            <label>Tank Info</label>
            <form method="post" action="#">
                Duis aute: <input type="text" name="name"> <br>
                Duis aute:  <input type="text" name="name"> <br>
                Choose:  <select>
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
            </select><br>
                <button class="add_new_btn" type="button">Add New</button>
            </form>
        </div>
        <div class="form">
            <label>Report</label>
            <form method="post" action="#">
                1. Pumping Date: <input type="text" name="name"> <br>
                2. Quantity Pumped(gallons): <input type="text" name="name"> <br>
                3. Component: <input type="text" name="name"> <br>
                4. Other: <input type="text" name="name"> <br>
                5. Effluent Tee Filter Present: <fieldset id="group1">
                            <input type="radio" value="" name="group1">Yes
                            <input type="radio" value="" name="group1">No
                </fieldset>
                6. If yes, was it cleaned? <fieldset id="group2">
                            <input type="radio" value="" name="group2">Yes
                            <input type="radio" value="" name="group2">No
                </fieldset>
                7. Observed condition of component pumbed: <input type="text" name="name"> <br>
                8. System pumbed by(name): <input type="text" name="name"> <br>
                9. System pumbed by(License): <input type="text" name="name"> <br>
                10. System pumbed by(company): <input type="text" name="name"> <br>
                11. Location where contents were disposed: <input type="text" name="name"> <br>
                12. Hauler: <input type="text" name="name"> <br>
                13. Hauler date: <input type="text" name="name"> <br>
                14. Receiving Facility: <input type="text" name="name"> <br>
                15. Receiving Facility Date: <input type="text" name="name"> <br>
                <button>{{submit_string}}</button><button>Delete</button>
            </form>
        </div>
    </div>

</div><!-- container -->


<style>
	 
	h1{
        text-align: center;
    }

    .container{
        width: 800px;
        margin: 0 auto;
    }

    ul.tabs{
        margin: 0px;
        padding: 0px;
        list-style: none;
    }
    ul.tabs li{
        background: none;
        color: #222;
        display: inline-block;
        padding: 10px 15px;
        cursor: pointer;
    }

    ul.tabs li.current{
        background: #ededed;
        color: #222;
    }

    .tab-content{
        display: none;
        background: #ededed;
        padding: 15px;
    }

    .tab-content.current{
        display: inherit;
    }
    .form{
        padding:10px;
        margin:10px 0;
        border:2px solid white;
    }

    .add_new_form{
        display:none;
    }
</style>

<script>
    $(document).ready(function(){

        $('ul.tabs li').click(function(){
            var tab_id = $(this).attr('data-tab');

            $('ul.tabs li').removeClass('current');
            $('.tab-content').removeClass('current');

            $(this).addClass('current');
            $("#"+tab_id).addClass('current');
        });

    });


    $(document).ready(function(){
        var next = 1;
        $(".add-more").click(function(e){
            e.preventDefault();
            var addto = "#field" + next;
            var addRemove = "#field" + (next);
            next = next + 1;
            var newIn = '<input autocomplete="off" id="field' + next + '" name="field' + next + '" type="text" placeholder="Input Violation">';
            var newInput = $(newIn);
            var removeBtn = '<button id="remove' + (next - 1) + '" class="remove-me" >-</button></div><div id="field">';
            var removeButton = $(removeBtn);
            $(addto).after(newInput);
            $(addRemove).after(removeButton);
            $("#field" + next).attr('data-source',$(addto).attr('data-source'));
            $("#count").val(next);

            $('.remove-me').click(function(e){
                e.preventDefault();
                var fieldNum = this.id.charAt(this.id.length-1);
                var fieldID = "#field" + fieldNum;
                $(this).remove();
                $(fieldID).remove();
            });
        });
    });


    $(function(){
        $('.add_new_btn').on('click',function(){
            $('.add_new_form').slideToggle(1000);
        });
    });

</script>
</html>